"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[524],{8524:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});var r=t(2791),n=t(7689),l=t(9982),o=t(184);const a=()=>{const[e,s]=(0,r.useState)([{text:"Hello! How can I help you?",isUser:!1}]),[t,a]=(0,r.useState)(""),c=(0,r.useRef)(null),i=(0,n.s0)();(0,r.useEffect)((()=>{localStorage.getItem("token")||i("/login")}),[]);const u=new l.Pp({apiKey:"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",dangerouslyAllowBrowser:!0}),d=async e=>{if(e.preventDefault(),""===t.trim())return;s((e=>[...e,{text:t,isUser:!0}]));const r=await(async e=>{console.log(e);try{var s,t;const r=await u.chat.completions.create({messages:[{role:"user",content:e}],model:"gpt-3.5-turbo"}),n=null===r||void 0===r||null===(s=r.choices[0])||void 0===s||null===(t=s.message)||void 0===t?void 0:t.content;return console.log(r),console.log(n),n}catch(r){return console.error("Error calling OpenAI API:",r),"Error generating response."}})(t);s((e=>[...e,{text:r,isUser:!1}])),a("")};return(0,r.useEffect)((()=>{c.current&&c.current.scrollIntoView({behavior:"smooth"})}),[e]),(0,o.jsx)("div",{className:"container mt-5",children:(0,o.jsx)("div",{className:"card",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsxs)("div",{className:"chatbox",children:[e.map(((e,s)=>(0,o.jsx)("div",{className:"d-grid w-100",children:(0,o.jsx)("div",{className:e.isUser?"user-message":"bot-message",children:e.text})},s))),(0,o.jsx)("div",{ref:c})]}),(0,o.jsx)("form",{onSubmit:d,children:(0,o.jsxs)("div",{className:"input-group mt-3",children:[(0,o.jsx)("input",{type:"text",className:"form-control",placeholder:"Type your message...",value:t,onChange:e=>a(e.target.value)}),(0,o.jsx)("button",{className:"btn btn-primary",onClick:d,children:"Send"})]})})]})})})}}}]);
//# sourceMappingURL=524.72c5f62a.chunk.js.map